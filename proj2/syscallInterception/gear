#!/usr/bin/env python3

# Try it out:
# Run `./gear 10 tetris` in your terminal 
# where `10` represents the speed multiplier

import subprocess
import sys

try:
    ratio, exe = sys.argv[1:]
except:
    print(f'Example: {sys.argv[0]} 10 tetris  # 10X speedup')
    exit(1)

subprocess.run(
    [
        'gdb',
        '-ex', f'set $gear_ratio = {ratio}',
        '-x', 'gear-gdb.py',
        exe,
    ]
)
